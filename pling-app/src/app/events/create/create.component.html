<div>
  <!-- TODO: Remove formcontrol, replace with own logic -->
  <h2 mat-dialog-title>Create event</h2>

  <mat-dialog-content class="form-container">
    <mat-form-field>
      <input matInput placeholder="Title" autocomplete="off" [formControl]="titleControl" [(ngModel)]="eventData.title"
        required>
      <mat-error *ngIf="titleControl.invalid">{{getErrorMessage()}}</mat-error>
    </mat-form-field>

    <mat-form-field>
      <textarea matInput placeholder="Description" autocomplete="off" [(ngModel)]="eventData.description"></textarea>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Location" autocomplete="off" [(ngModel)]="eventData.location">
    </mat-form-field>

    <span>
      <mat-form-field>
        <!-- TODO: Set date of end to startdate, and filter out dates before  -->
        <input matInput placeholder="Start date" autocomplete="off" [matDatepicker]="startDate"
          [formControl]="startDateControl" [(ngModel)]="eventData.start" required>
        <mat-error *ngIf="startDateControl.invalid">{{getErrorMessage()}}</mat-error>
        <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
        <mat-datepicker #startDate></mat-datepicker>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Start time</mat-label>
        <input matInput [ngxTimepicker]="startTime" [format]="24" placeholder="Start time" (click)="setZindex()"
          preventOverlayClick="true" [formControl]="startTimeControl" [(ngModel)]="eventData.startTime" required>
        <mat-error *ngIf="startTimeControl.invalid">{{getErrorMessage()}}</mat-error>
      </mat-form-field>
    </span>
    <ngx-material-timepicker #startTime [theme]="darkTheme"></ngx-material-timepicker>

    <!-- TODO: CHeck if one of these has a value, if so, require both. !IMPORTANT FIXME: -->
    <span>
      <mat-form-field>
        <input matInput placeholder="End date" autocomplete="off" [matDatepicker]="endDate" [(ngModel)]="eventData.end">
        <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
        <mat-datepicker #endDate></mat-datepicker>
      </mat-form-field>

      <mat-form-field>
        <mat-label>End time</mat-label>
        <input matInput [ngxTimepicker]="endTime" [format]="24" placeholder="End time" (click)="setZindex()"
          preventOverlayClick="true" [(ngModel)]="eventData.endTime">
      </mat-form-field>
    </span>
    <ngx-material-timepicker #endTime [theme]="darkTheme"></ngx-material-timepicker>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button mat-button (click)="cancelDialog()" color="warn">Cancel</button>
    <span class="fill-remaining-space"></span>
    <button mat-raised-button (click)="createEvent()" color="accent">Create</button>
  </mat-dialog-actions>
</div>
